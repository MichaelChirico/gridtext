<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Draw formatted text labels — richtext_grob • gridtext</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Draw formatted text labels — richtext_grob" />
<meta property="og:description" content="This grob acts mostly as a drop-in replacement for grid::textGrob()
but provides more sophisticated formatting. The grob can handle basic
markdown and HTML formatting directives, and it can also draw
boxes around each piece of text. Note that this grob does not draw
plotmath expressions." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">gridtext</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/wilkelab/gridtext/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Draw formatted text labels</h1>
    <small class="dont-index">Source: <a href='https://github.com/wilkelab/gridtext/blob/master/R/richtext-grob.R'><code>R/richtext-grob.R</code></a></small>
    <div class="hidden name"><code>richtext_grob.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This grob acts mostly as a drop-in replacement for <code><a href='https://rdrr.io/r/grid/grid.text.html'>grid::textGrob()</a></code>
but provides more sophisticated formatting. The grob can handle basic
markdown and HTML formatting directives, and it can also draw
boxes around each piece of text. Note that this grob <strong>does not</strong> draw
<a href='https://rdrr.io/r/grDevices/plotmath.html'>plotmath</a> expressions.</p>
    </div>

    <pre class="usage"><span class='fu'>richtext_grob</span>(
  <span class='kw'>text</span>,
  x = <span class='fu'>unit</span>(<span class='fl'>0.5</span>, <span class='st'>"npc"</span>),
  y = <span class='fu'>unit</span>(<span class='fl'>0.5</span>, <span class='st'>"npc"</span>),
  hjust = <span class='fl'>0.5</span>,
  vjust = <span class='fl'>0.5</span>,
  halign = <span class='kw'>hjust</span>,
  valign = <span class='kw'>vjust</span>,
  rot = <span class='fl'>0</span>,
  default.units = <span class='st'>"npc"</span>,
  margin = <span class='fu'>unit</span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>0</span>), <span class='st'>"pt"</span>),
  padding = <span class='fu'>unit</span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>0</span>), <span class='st'>"pt"</span>),
  r = <span class='fu'>unit</span>(<span class='fl'>0</span>, <span class='st'>"pt"</span>),
  align_widths = <span class='fl'>FALSE</span>,
  align_heights = <span class='fl'>FALSE</span>,
  name = <span class='kw'>NULL</span>,
  gp = <span class='fu'>gpar</span>(),
  box_gp = <span class='fu'>gpar</span>(col = <span class='fl'>NA</span>),
  vp = <span class='kw'>NULL</span>,
  use_markdown = <span class='fl'>TRUE</span>,
  debug = <span class='fl'>FALSE</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>text</th>
      <td><p>Character vector containing Markdown/HTML strings to draw.</p></td>
    </tr>
    <tr>
      <th>x, y</th>
      <td><p>Unit objects specifying the location of the reference point.</p></td>
    </tr>
    <tr>
      <th>hjust, vjust</th>
      <td><p>Numerical values specifying the justification
of the text boxes relative to <code>x</code> and <code>y</code>. These justification parameters
are specified in the internal reference frame of the text boxes, so that,
for example, <code>hjust</code> adjusts the vertical justification when the
text is rotated 90 degrees to the left or right.</p></td>
    </tr>
    <tr>
      <th>halign, valign</th>
      <td><p>Numerical values specifying the text justification
inside the text boxes. If not specified, these default to <code>hjust</code> and
<code>vjust</code>.</p></td>
    </tr>
    <tr>
      <th>rot</th>
      <td><p>Angle of rotation for text, in degrees.</p></td>
    </tr>
    <tr>
      <th>default.units</th>
      <td><p>Units of <code>x</code> and <code>y</code> if these are provided only as
numerical values.</p></td>
    </tr>
    <tr>
      <th>margin, padding</th>
      <td><p>Unit vectors of four elements each indicating the
margin and padding around each text label in the order top, right,
bottom, left. Margins are drawn outside the enclosing box (if any),
and padding is drawn inside. To avoid rendering artifacts, it is best
to specify these values in absolute units (such as points, mm, or inch)
rather than in relative units (such as npc).</p></td>
    </tr>
    <tr>
      <th>r</th>
      <td><p>The radius of the rounded corners. To avoid rendering artifacts,
it is best to specify this in absolute units (such as points, mm, or inch)
rather than in relative units (such as npc).</p></td>
    </tr>
    <tr>
      <th>align_widths, align_heights</th>
      <td><p>Should the widths and heights of all
the text boxes be aligned? Default is no.</p></td>
    </tr>
    <tr>
      <th>name</th>
      <td><p>Name of the grob.</p></td>
    </tr>
    <tr>
      <th>gp</th>
      <td><p>Other graphical parameters for drawing.</p></td>
    </tr>
    <tr>
      <th>box_gp</th>
      <td><p>Graphical parameters for the enclosing box around each text label.</p></td>
    </tr>
    <tr>
      <th>vp</th>
      <td><p>Viewport.</p></td>
    </tr>
    <tr>
      <th>use_markdown</th>
      <td><p>Should the <code>text</code> input be treated as markdown? Default
is yes.</p></td>
    </tr>
    <tr>
      <th>debug</th>
      <td><p>Should debugging info be drawn? Default is no.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A grid <code><a href='https://rdrr.io/r/grid/grid.grob.html'>grob</a></code> that represents the formatted text.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='textbox_grob.html'>textbox_grob()</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='kw'>grid</span>)

<span class='kw'>text</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(
  <span class='st'>"Some text **in bold.**"</span>, <span class='st'>"Linebreaks&lt;br&gt;Linebreaks&lt;br&gt;Linebreaks"</span>,
  <span class='st'>"*x*&lt;sup&gt;2&lt;/sup&gt; + 5*x* + *C*&lt;sub&gt;*i*&lt;/sub&gt;"</span>,
  <span class='st'>"Some &lt;span style='color:blue'&gt;blue text **in bold.**&lt;/span&gt;&lt;br&gt;And *italics text.*&lt;br&gt;
   And some &lt;span style='font-size:18pt; color:black'&gt;large&lt;/span&gt; text."</span>
)

<span class='kw'>x</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>.2</span>, <span class='fl'>.1</span>, <span class='fl'>.7</span>, <span class='fl'>.9</span>)
<span class='kw'>y</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>.8</span>, <span class='fl'>.4</span>, <span class='fl'>.1</span>, <span class='fl'>.5</span>)
<span class='kw'>rot</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>45</span>, <span class='op'>-</span><span class='fl'>45</span>)
<span class='kw'>gp</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/gpar.html'>gpar</a></span>(col = <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"black"</span>, <span class='st'>"red"</span>), fontfamily = <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"Palatino"</span>, <span class='st'>"Courier"</span>, <span class='st'>"Times"</span>, <span class='st'>"Helvetica"</span>))
<span class='kw'>box_gp</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/gpar.html'>gpar</a></span>(col = <span class='st'>"black"</span>, fill = <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"cornsilk"</span>, <span class='fl'>NA</span>, <span class='st'>"lightblue1"</span>, <span class='fl'>NA</span>), lty = <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>0</span>, <span class='fl'>1</span>, <span class='fl'>1</span>, <span class='fl'>1</span>))
<span class='kw'>hjust</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>0.5</span>, <span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>1</span>)
<span class='kw'>vjust</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>0.5</span>, <span class='fl'>1</span>, <span class='fl'>0</span>, <span class='fl'>0.5</span>)

<span class='kw'>g</span> <span class='op'>&lt;-</span> <span class='fu'>richtext_grob</span>(
  <span class='kw'>text</span>, <span class='kw'>x</span>, <span class='kw'>y</span>, hjust = <span class='kw'>hjust</span>, vjust = <span class='kw'>vjust</span>, rot = <span class='kw'>rot</span>,
  padding = <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>6</span>, <span class='fl'>6</span>, <span class='fl'>4</span>, <span class='fl'>6</span>), <span class='st'>"pt"</span>),
  r = <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>0</span>, <span class='fl'>2</span>, <span class='fl'>4</span>, <span class='fl'>8</span>), <span class='st'>"pt"</span>),
  gp = <span class='kw'>gp</span>, box_gp = <span class='kw'>box_gp</span>
)
<span class='fu'><a href='https://rdrr.io/r/grid/grid.newpage.html'>grid.newpage</a></span>()
<span class='fu'><a href='https://rdrr.io/r/grid/grid.draw.html'>grid.draw</a></span>(<span class='kw'>g</span>)
</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/grid/grid.points.html'>grid.points</a></span>(<span class='kw'>x</span>, <span class='kw'>y</span>, default.units = <span class='st'>"npc"</span>, pch = <span class='fl'>19</span>, size = <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span>(<span class='fl'>5</span>, <span class='st'>"pt"</span>))
</div><div class='img'><img src='richtext_grob-1.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># multiple text labels with aligned boxes</span>
<span class='kw'>text</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"January"</span>, <span class='st'>"February"</span>, <span class='st'>"March"</span>, <span class='st'>"April"</span>, <span class='st'>"May"</span>)
<span class='kw'>x</span> <span class='op'>&lt;-</span> (<span class='fl'>1</span><span class='op'>:</span><span class='fl'>5</span>)<span class='op'>/</span><span class='fl'>6</span> <span class='op'>+</span> <span class='fl'>1</span><span class='op'>/</span><span class='fl'>24</span>
<span class='kw'>y</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span>(<span class='fl'>0.8</span>, <span class='fl'>5</span>)
<span class='kw'>g</span> <span class='op'>&lt;-</span> <span class='fu'>richtext_grob</span>(
  <span class='kw'>text</span>, <span class='kw'>x</span>, <span class='kw'>y</span>, halign = <span class='fl'>0</span>, hjust = <span class='fl'>1</span>,
  rot = <span class='fl'>45</span>,
  padding = <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>3</span>, <span class='fl'>6</span>, <span class='fl'>1</span>, <span class='fl'>3</span>), <span class='st'>"pt"</span>),
  r = <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span>(<span class='fl'>4</span>, <span class='st'>"pt"</span>),
  align_widths = <span class='fl'>TRUE</span>,
  box_gp = <span class='fu'><a href='https://rdrr.io/r/grid/gpar.html'>gpar</a></span>(col = <span class='st'>"black"</span>, fill = <span class='st'>"cornsilk"</span>)
)
<span class='fu'><a href='https://rdrr.io/r/grid/grid.newpage.html'>grid.newpage</a></span>()
<span class='fu'><a href='https://rdrr.io/r/grid/grid.draw.html'>grid.draw</a></span>(<span class='kw'>g</span>)
</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/grid/grid.points.html'>grid.points</a></span>(<span class='kw'>x</span>, <span class='kw'>y</span>, default.units = <span class='st'>"npc"</span>, pch = <span class='fl'>19</span>, size = <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span>(<span class='fl'>5</span>, <span class='st'>"pt"</span>))
</div><div class='img'><img src='richtext_grob-2.png' alt='' width='700' height='433' /></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Claus O. Wilke.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.0.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


